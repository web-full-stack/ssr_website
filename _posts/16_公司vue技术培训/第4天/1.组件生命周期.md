---
title: 第四天 4-1 生命周期
date: 2019-08-09 01:00:00
tags:
categories: 公司vue技术培训
column_id: 16
---

### 一、什么是生命周期

生命周期指的是一个对象的生老病死。

- 1、动物的生命周期：从初生到死亡。
- 2、产品的生命周期：从开始到淘汰。

Vue 的生命周期指的是 Vue 组件的生命周期，从组件创建到销毁。



### 二、Vue 的生命周期

先来看官方的 Vue 生命周期的图

![img](http://pic1.zhoujie16.cn/20190803232541.png)

这幅图非常详细的介绍了 Vue 的生命周期，刚开始看，可能有点懵，没关系，随着慢慢的深入，回过头来再看这幅图，就会豁然开朗

#### 总的来说 Vue 的生命周期包括四个状态

1、creating 状态--vue 实例被创建的过程 

2、mounting 状态--挂到到真实的 DOM 节点 

3、updating 状态--如果 data 中的数据改变就会触发对应组件的重新渲染 

4、destroying 状态--实例销毁

#### Vue 生命周期方法和介绍

上面个四个状态对应 8 个方法

| 方法名        | 状态            | 含义                                                         |
| :------------ | :-------------- | :----------------------------------------------------------- |
| beforeCreate  | creating 状态   | 实例创建之前调用                                             |
| created       | creating 状态   | 实例创建成功，此时 data 中的数据显示出来了                   |
| beforeMount   | mounting 状态   | 数据中的 data 在模版中先占一个位置                           |
| mounted       | mounting 状态   | 模版中的 data 数据直接显示出来了                             |
| beforeUpdate  | updating 状态   | 当 data 数据发生变化调用，发生在虚拟 DOM 重新渲染和打补丁之前 |
| updated       | updating 状态   | 数据更改导致的虚拟 DOM 重新渲染和打补丁                      |
| beforeDestroy | destroying 状态 | 在 vue 实例销毁之前调用，此时实例任然可用                    |
| destroyed     | destroying 状态 | 在 vue 实例销毁之后调用，vue 实例指示的所有东西都会解绑定，所有的事件监听器会被移除，所有的子实例也会被销毁 |

### 三、实例验证（上代码）

```vue
<template>
  <div class="hello">
    <h1>{{ msg }}</h1>
  </div>
</template>

<script>
export default {
  name: "HelloWorld",
  data() {
    return {
      msg: "Hello World",
      timer: null
    };
  },
  beforeCreate: function() {
    console.log("1-beforeCreate 创建之前");
  },
  created: function() {
    console.log("2-created 创建完成");
  },
  beforeMount: function() {
    console.log("3-beforeMount 挂载之前");
  },
  mounted: function() {
    console.log("4-mounted 已经挂载");
    this.timer = setInterval(() => {
      console.log("setInterval");
    }, 1000);
  },
  beforeUpdate: function() {
    console.log("5-beforeUpdate 数据更新前");
  },
  updated: function() {
    console.log("6-updated 数据更新后");
  },
  beforeDestroy: function() {
    console.log("7-beforeDestroy 销毁之前");
    clearInterval(this.timer);
  },
  destroyed: function() {
    console.log("8-destroyed 销毁之后");
  }
};
</script>
```



### 四、了解生命周期的作用

那么这些生命周期有什么用呢？我们以在不同的生命周期方法中做不同的操作处理，比如：

**PS:**一般情况下我们在 `beforecreate`方法中可以加 Loading 事件，在 `created`方法中结束 Loading，并且还可以在此方法中做一些初始化操作，在 `mounted`方法中进行发起异步服务端请求。当然，如果你想页面没有加载完成就请求数据那么在 `created`方法请求数据也没有什么问题，可以在 `beforeDestroy`方法中弹出确认删除，`destroyed`中清除相关数据达到资源的有效利用
