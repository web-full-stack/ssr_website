---
title: 第四天 4-3 路由 vue-router
date: 2019-08-09 03:00:00
tags:
categories: 公司vue技术培训
column_id: 16
---
 

### 概述

传统的路由是用一些超链接来实现页面切换和跳转

而vue-router在单页面应用中，则是组件之间的切换，而不是页面之间的跳转

其本质就是：建立并管理url和对应组件之间的映射关系

### 使用 vue-router

```javascript
// 1.router.js 配置路由实例 router.js文件
import Vue from 'vue'
import Router from 'vue-router'
import Home from './views/Home.vue'

Vue.use(Router)

export default new Router({
  mode: 'history',
  base: process.env.BASE_URL,
  routes: [
    {
      path: '/',
      name: 'home',
      component: Home
    },
    {
      path: '/about',
      name: 'about',
      // route level code-splitting
      // this generates a separate chunk (about.[hash].js) for this route
      // which is lazy-loaded when the route is visited.
      component: () => import('./views/About.vue')
    },
    {
      path: '/other',
      name: 'other',
      component: () => import('./views/Other.vue')
    },
  ]
})

```

```javascript
// 2.main.js 使用
import router from './router'

new Vue({
  router,
  store,
  render: h => h(App)
}).$mount('#app')
```



```vue
// 3.组件内部使用路由 在vue组件内配置router-link和router-view
<template>
  <div id="app">
    <div id="nav">
      <router-link to="/">Home</router-link> |
      <router-link to="/about">About</router-link> |
      <!-- <router-link :to="{name:'other',params:{key:'other'}}">Other</router-link> -->
      <button @click="goOther">Other</button>
    </div>
    <router-view/>
  </div>
</template>

<script> 
export default {
   methods: {
     goOther(){
       this.$router.push({
         name:'other',
         params:{
           jsKey:'Other'
         }
       })
     }
   }
}
</script>
```

### 小结

至此,一个基本的vue-router已经完成.这里只是简单示范,了解其实现步骤.
总结一下编写vue路由时,记住要做这三类事:
1,准备工作: 在main.js中引入router.js挂载到Vue实例中.
2,配置路由实例(重点): 在router.js中引入Vue,vue-router,配置路由实例.
3,组件内配置: 就是配置router-link和router-view.

### 路由组件传参

###### params传参

```javascript
# 传参
// 1. router-link 携带参数
<router-link :to="{name:'other',params:{key:'other'}}">Other</router-link>

// 2.js api 携带参数
this.$router.push({
  name:'other',
  params:{
    jsKey:'Other'
  }
})

# 取值
mounted(){
  let params = this.$route.params
  console.log(params)
}
```

