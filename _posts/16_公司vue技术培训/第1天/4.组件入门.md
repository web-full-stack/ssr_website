---
title: 第一天 1-4 组件
date: 2019-08-06 04:00:00
tags:
categories: 公司vue技术培训
column_id: 16
---

# 组件

前言：component 组件是Vue学习的重点、重点、重点，重要的事情说三遍。所以你必须学好Vue component。其实组件就是制作自定义的标签，这些标签在HTML中是没有的。

一个组件由 template、data、computed、methods等选项组成。需要注意：

- template 的 DOM 结构必须有根元素
- data 必须是函数，数据通过 return 返回出去

#### 全局注册组件

全局化就是在构造器的外部用Vue.component来注册

```vue
<div id="root">
  <my-component></my-component>
</div>

<script>
  //全局注册组件
  var myComponent = {
    template: '<div> {{ msg }} </div>',
    data: function () {
      return {
        msg: '我是组件'
      }
    }
  }
  
  Vue.component('my-component', myComponent)

  var vm = new Vue({
    el: '#root',
    data: {
      msg: 'hello vue'
    }
  })
</script>
```

#### 局部注册组件

局部注册组件局部注册组件和全局注册组件是向对应的，局部注册的组件只能在组件注册的作用域里进行使用，其他作用域使用无效。

```vue
<div id="root">
  <test-component></test-component>
</div>
<script>
  var testComponent = {
    template:'<div> {{ msg }} </div>',
    data:function () {
      return {
        msg: '我是局部组件'
      }
    }
  }

  var vm = new Vue({
    el: '#root',
    data: {
      msg: 'hello vue'
    },
    components:{
      'test-component': testComponent
    }
  })
</script>
```

### 组件传值：props 属性

```vue
<div id="root">
  <my-component :msg="msg"></my-component>
</div>
<script>
  var myComponent = {
    template: '<div> {{ msg }} </div>',
    props: ['msg']
  }

  Vue.component('my-component', myComponent)
  
  var vm = new Vue({
    el: '#root',
    data: {
      msg: 'hello vue'
    }
  })
</script>
```

### 向组件传递数据

组件不仅要把模板的内容进行复用，更重要的是组件间进行通信。

父组件用`props`向子组件传递数据。

```vue
<div id="root">
  <my-component :msg="msg"></my-component>
</div>
<script>
  var myComponent = {
    template: '<div> {{ msg }} </div>',
    props: ['msg']
  }

  Vue.component('my-component', myComponent)
  
  var vm = new Vue({
    el: '#root',
    data: {
      msg: 'hello vue'
    }
  })
</script>
```





